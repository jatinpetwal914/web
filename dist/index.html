<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phadizon | Essence of Himalayas</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link rel="stylesheet" crossorigin href="/assets/index-ByUrHwqz.css">
  </head>
  <body>

    <!-- Header -->
    <nav class="navbar">
      <div class="logo-container">
        <a href="index.html" class="logo-link">
          <span class="logo-symbol">◇</span>
          Phadiz<span class="leaf-dot">o</span>n
        </a>
      </div>

      <div class="nav-search">
        <input
          type="text"
          id="navSearchInput"
          placeholder="Search products..."
        />
        <button id="navSearchBtn"><i class="fa-solid fa-search"></i></button>
      </div>

      <ul class="nav-links">
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="cart.html">Cart</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="content.html">Content</a></li>
      </ul>
      <div class="user-icon">
        <a href="login.html"><i class="fa-regular fa-user"></i></a>
      </div>
    </nav>

    <!-- hero (carousel) -->
    <section class="hero-carousel" aria-label="Hero carousel">
      <div class="carousel" id="heroCarousel" data-interval="5000">
        <div class="slide active" style="background-image: url('/assets/chatgpt-hero-DzgMncxf.png')">
          <div class="slide-inner">
            <div class="slide-top"></div>
            <div class="slide-center">
              <h1>Bringing goodness of the Himalayas to you</h1>
              <p>Authentic, sustainable, and handcrafted products from our mountain communities.</p>
            </div>
            <div class="slide-bottom">
              <a href="products.html" class="cta-btn-modern slide-cta">Shop Now</a>
            </div>
          </div>
        </div>

        <div class="slide" style="background-image: url('/assets/ragi%20benifits-DRtZYOiP.png')">
          <div class="slide-inner">
            <div class="slide-top"></div>
            <div class="slide-center">
              <h1>Ragi — nutritious, naturally sourced</h1>
              <p>Wholesome grains straight from mountain farms.</p>
            </div>
            <div class="slide-bottom">
              <a href="products.html" class="cta-btn-modern slide-cta">Shop Now</a>
            </div>
          </div>
        </div>

        <div class="slide" style="background-image: url('/assets/p11-rR2yRMxn.jpeg')">
          <div class="slide-inner">
            <div class="slide-top"></div>
            <div class="slide-center">
              <h1>Jahangora — ancient Himalayan grain</h1>
              <p>Traditional taste, modern goodness.</p>
            </div>
            <div class="slide-bottom">
              <a href="products.html" class="cta-btn-modern slide-cta">Shop Now</a>
            </div>
          </div>
        </div>

         <div class="slide" style="background-image: url('assets/images/jahngora\ benifits.png')">
          <div class="slide-inner">
            <div class="slide-top"></div>
            <div class="slide-center">
              <h1>pulses — ancient organic himalayas pulses</h1>
              <p>Traditional taste, modern goodness.</p>
            </div>
            <div class="slide-bottom">
              <a href="products.html" class="cta-btn-modern slide-cta">Shop Now</a>
            </div>
          </div>
        </div>

        <div class="carousel-indicators" aria-hidden="true">
          <button class="indicator active" data-slide="0" aria-label="Slide 1"></button>
          <button class="indicator" data-slide="1" aria-label="Slide 2"></button>
          <button class="indicator" data-slide="2" aria-label="Slide 3"></button>
        </div>
      </div>

      <style>
        /* Hero carousel styling */
        .hero-carousel { margin-top: 1rem; }
        .carousel { position: relative; width: 100%; height: 65vh; min-height: 480px; max-height: 900px; overflow: hidden; border-radius: 12px; box-shadow: 0 18px 50px rgba(14,20,10,0.08); }
        .carousel .slide { position: absolute; inset: 0; background-size: cover; background-position: center; opacity: 0; transition: opacity 700ms ease; display: flex; }
        .carousel .slide.active { opacity: 1; z-index: 2; }
        .slide-inner { width: 100%; display: flex; flex-direction: column; justify-content: space-between; color: #fff; padding: 3rem; background: linear-gradient(to bottom, rgba(0,0,0,0.20), rgba(0,0,0,0.25)); }
        .slide-center { text-align: left; max-width: 900px; }
        .slide-center h1 { font-size: clamp(1.8rem, 3.6vw, 3.6rem); margin: 0 0 0.5rem; letter-spacing: -0.5px; }
        .slide-center p { margin: 0 0 0.75rem; opacity: 0.95; }
        .slide-bottom { display: flex; justify-content: center; }
        .slide-cta { margin-top: 0.5rem; align-self: center; }
        .carousel-indicators { position: absolute; bottom: 12px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px; z-index: 5; }
        .carousel-indicators .indicator { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,0.45); border: none; cursor: pointer; }
        .carousel-indicators .indicator.active { background: #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

        @media (max-width: 1100px) {
          .carousel { height: 58vh; min-height: 420px; }
        }
        @media (max-width: 760px) {
          .carousel { height: 56vh; min-height: 360px; }
          .slide-center h1 { font-size: 1.6rem; }
          .slide-inner { padding: 1.5rem; }
          .slide-bottom { justify-content: center; }
          .slide-center { text-align: center; }
        }
      </style>

      <script>
        (function () {
          const carousel = document.getElementById('heroCarousel');
          if (!carousel) return;
          const slides = Array.from(carousel.querySelectorAll('.slide'));
          const indicators = Array.from(carousel.querySelectorAll('.indicator'));
          let current = 0;
          const interval = parseInt(carousel.dataset.interval, 10) || 5000;
          let timer = setInterval(next, interval);

          function show(i) {
            slides.forEach((s, idx) => s.classList.toggle('active', idx === i));
            indicators.forEach((b, idx) => b.classList.toggle('active', idx === i));
          }

          function next() {
            current = (current + 1) % slides.length;
            show(current);
          }

          indicators.forEach((btn) => {
            btn.addEventListener('click', () => {
              const i = parseInt(btn.dataset.slide, 10) || 0;
              current = i;
              show(current);
              clearInterval(timer);
              timer = setInterval(next, interval);
            });
          });

          carousel.addEventListener('mouseenter', () => clearInterval(timer));
          carousel.addEventListener('mouseleave', () => (timer = setInterval(next, interval)));
          window.addEventListener('resize', () => show(current));
        })();
      </script>
    </section>


    <!-- Categories Section -->
    <section class="categories-section">
      <div class="category-card" data-aos="fade-up">
        <h3>HOME</h3>
        <div class="cat-img-container">
          <img
            src="/assets/flour-BAjn6EQc.jpg"
            alt="Rasoi Ka Saman"
            onerror="this.src='https://placehold.co/300x300?text=Flour'"
          />
        </div>
        <a href="home.html" class="cat-btn">RASOI KA SAMAN</a>
        <p>
          fulfill your kitchen (Rasoi) with our safe clean and healthy product's
        </p>
      </div>
      <div class="category-card" data-aos="fade-up" data-aos-delay="100">
        <h3>HEALTH-CARE</h3>
        <div class="cat-img-container">
          <img
            src="/assets/tea-SV6JAY-i.png"
            alt="Health Care"
            onerror="this.src='https://placehold.co/300x300?text=Green+Tea'"
          />
        </div>
        <a href="health.html" class="cat-btn">HEALTH FREE</a>
        <p>ENJOY every food with any limits and thinks about your health</p>
      </div>
      <div class="category-card" data-aos="fade-up" data-aos-delay="200">
        <h3>CHATAR-PATAR</h3>
        <div class="cat-img-container">
          <img
            src="/assets/snacka-BsjxpjAW.jpg"
            alt="Snacks"
            onerror="this.src='https://placehold.co/300x300?text=Snacks'"
          />
        </div>
        <a href="chatar-patar.html" class="cat-btn">SNACKS</a>
        <p>Bring your healthy and tasty snacks(Chatar-Patar)</p>
      </div>
    </section>

    <!-- Review Section -->
    <section class="review-section">
      <div class="review-container">
        <div class="review-img" data-aos="fade-right">
          <div class="img-placeholder">
            <img
              src="/assets/Handmade_Phadi_Production_d7b6d4d4-528d-453e-b87d-bda6859674bb-Bg7KveI3.jpg"
              alt="Review / Testimonial"
            />
          </div>
        </div>
        <div class="review-text" data-aos="fade-left">
          <h2>TAKE A<br />REVIEW<br />OF OUR<br />WORK</h2>
          <p>
            Thousands of women collaborate with us — preserving the beauty of
            Uttarakhand while connecting mountain communities with customers
            across the country.
          </p>
          <a href="contact.html" class="book-btn">OUR EFFORTS</a>
        </div>
      </div>
    </section>

    <!-- top product -->
    <section class="top-products">
      <h2 data-aos="fade-down">OUR TOP PRODUCTS</h2>



      <div class="top-content-tray" data-aos="fade-up">
        <style>
          /* Sliding window carousel: show multiple items and auto-slide */
          .top-carousel {
            position: relative;
            overflow: hidden;
            padding: 1rem 0;
          }
          .carousel-track {
            display: flex;
            gap: 1.25rem;
            transition: transform 600ms cubic-bezier(0.22, 0.9, 0.22, 1);
            will-change: transform;
          }
          .carousel-item {
            flex: 0 0 calc(33.333% - 0.66rem);
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
            text-decoration: none;
            color: inherit;
          }
          .carousel-item img {
            width: 100%;
            height: 360px;
            object-fit: contain;
            background: #fff;
            display: block;
          }
          .carousel-item .caption {
            padding: 0.8rem;
            font-weight: 600;
            color: var(--primary);
          }
          .carousel-item .price {
            color: var(--accent-green);
            font-weight: bold;
            margin-top: 0.25rem;
          }
          @media (max-width: 1100px) {
            .carousel-item {
              flex: 0 0 calc(50% - 0.5rem);
            }
            .carousel-item img { height: 300px; }
          }
          @media (max-width: 640px) {
            .carousel-item {
              flex: 0 0 calc(100% - 0.5rem);
            }
            .carousel-item img { height: 240px; }
          }
        </style>

        <div class="top-carousel" id="topCarousel">
          <div class="carousel-track" id="carouselTrack" aria-live="polite">
            <!-- items will be injected here -->
          </div>
        </div>

        <div class="tray-description">
          <h3 id="prodTitle">Pidantar Oil</h3>
          <p id="prodDesc">
            A soothing oil crafted for relief and daily wellness.
          </p>
          <p id="prodUse">
            Use a few drops to massage affected areas in the morning and
            evening.
          </p>
        </div>
      </div>
    </section>

    <!-- AI Assistant Button -->
    <div class="ai-assistant">
      <button id="ai-btn" title="AI Assistant">
        <i class="fa-solid fa-robot"></i>
      </button>
    </div>

    <!-- Floating Search Button -->
    <div class="floating-search">
      <button id="side-search-btn" onclick="openSearch()" title="Search">
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </div>

    <!-- Search Overlay -->
    <div id="searchOverlay" class="search-overlay">
      <button class="search-close" onclick="closeSearch()">&times;</button>
      <div class="search-overlay-content">
        <input
          type="text"
          id="overlaySearchInput"
          placeholder="Type to search..."
        />
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 1000,
        once: true,
      });
    </script>

    <script>
      (function () {
        const fallback = [
          {
            id: 1,
            name: "Chakkidari Flour",
            price: 450,
            image: "assets/images/flour.jpg",
            desc: "Fine mountain flour",
            use: "Use for rotis and baking.",
          },
          {
            id: 2,
            name: "Green Tea",
            price: 350,
            image: "assets/images/tea.png",
            desc: "Refreshing green tea",
            use: "Steep 2-3 mins.",
          },
          {
            id: 3,
            name: "Pidantar Oil",
            price: 500,
            image: "assets/images/oil.jpg",
            desc: "A soothing oil crafted for relief and daily wellness.",
            use: "Use a few drops to massage affected areas.",
          },
          {
            id: 4,
            name: "Kemomile",
            price: 300,
            image: "assets/images/kemomile.jpg",
            desc: "Herbal blend for calming routine and relaxation.",
            use: "Brew with hot water for 3-5 minutes.",
          },
          {
            id: 5,
            name: "Alsi",
            price: 200,
            image: "assets/images/alsi.jpg",
            desc: "Nutrient-rich seeds to add fiber to your diet.",
            use: "Sprinkle on salads or mix into smoothies.",
          },
          {
            id: 7,
            name: "Mango Pickle",
            price: 165,
            image: "assets/images/mango-pickel.png",
            desc: "Tangy mango pickle",
            use: "Enjoy with meals.",
          },
          {
            id: 8,
            name: "Pahadi Salt (Namak)",
            price: 90,
            image: "assets/images/pahadi-salt.png",
            desc: "Natural mountain salt",
            use: "Use as regular salt.",
          },
          {
            id: 9,
            name: "Wild Honey",
            price: 420,
            image: "assets/images/honey.png",
            desc: "Raw wild honey",
            use: "Use in tea or on toast.",
          },
          {
            id: 10,
            name: "Haldi Soap",
            price: 110,
            image: "assets/images/haldi-soap.png",
            desc: "Turmeric soap",
            use: "Use for gentle cleansing.",
          },
          {
            id: 11,
            name: "Alovera Soap",
            price: 140,
            image: "assets/images/alovera-soap.png",
            desc: "Aloe vera soap",
            use: "Use for soothing skin.",
          },
          {
            id: 12,
            name: "Methi Dana",
            price: 95,
            image: "../Methi%20dana.png",
            desc: "Aromatic fenugreek seeds",
            use: "Use in tempering and pickles.",
          },
          {
            id: 13,
            name: "Sesama",
            price: 120,
            image: "../Sesama.png",
            desc: "Toasted sesame seeds",
            use: "Sprinkle on dishes or roast for flavor.",
          },
          {
            id: 14,
            name: "Pahadi Rajma",
            price: 180,
            image: "../Pahadi%20Rajma.png",
            desc: "Mountain red kidney beans",
            use: "Soak and prepare as you do regular rajma.",
          }
        ];

        function byId(id) {
          return fallback.find((p) => p.id == id) || null;
        }

        function pickCarouselProducts() {
          // 1) Try popular products (stored as array of ids in localStorage 'popularProducts')
          try {
            const popular = JSON.parse(
              localStorage.getItem("popularProducts") || "null"
            );
            if (Array.isArray(popular) && popular.length) {
              const mapped = popular.map(byId).filter(Boolean);
              if (mapped.length) return mapped;
            }
          } catch (e) {
            /* ignore */
          }

          // 2) Try cart -> use top quantities
          try {
            const cart = JSON.parse(localStorage.getItem("cart") || "[]");
            if (Array.isArray(cart) && cart.length) {
              const sorted = cart
                .slice()
                .sort((a, b) => (b.quantity || 0) - (a.quantity || 0));
              // filter out cart items without usable images (we don't want placeholders to drive the top carousel)
              return sorted
                .map((c) => ({
                  id: c.id,
                  name: c.name,
                  price: c.price || 0,
                  image: c.image || "",
                  desc: c.desc || "",
                  use: c.use || "",
                }))
                .filter(p => p.image && p.image.toString().trim() && !p.image.toString().includes('null') && !p.image.toString().includes('placehold.co'));
            }
          } catch (e) {}

          // 3) Fallback: random products from list (filter out items without a suitable image)
          const filteredFallback = fallback.filter(p => p.image && p.image.toString().trim() && !p.image.toString().includes('null') && !p.image.toString().includes('placehold.co'));
          const shuffled = filteredFallback.slice().sort(() => 0.5 - Math.random());
          return shuffled.slice(0, 3);
        }

        function initTopCarousel() {
          const prods = pickCarouselProducts();
          if (!prods || prods.length === 0) return;
          const track = document.getElementById("carouselTrack");
          track.innerHTML = "";

          // ensure at least some items to show
          let items = prods.slice();
          // duplicate if fewer than 4 so sliding feels continuous
          while (items.length < 4) items = items.concat(items.slice());
          items = items.slice(0, Math.max(items.length, 4));

          items.forEach((p) => {
            const a = document.createElement("a");
            a.className = "carousel-item";
            a.href = "products.html?product=" + (p.id || "");
            a.innerHTML = `<img src="${
              p.image || "https://placehold.co/600x320?text=Product"
            }" alt="${
              p.name
            }" onerror="this.onerror=null;this.src='https://placehold.co/600x320?text=Product';"><div class="caption">${
              p.name
            }<div class="price">₹${p.price || ""}</div></div>`;
            a.addEventListener("click", (e) => {
              /* allow normal navigation */
            });
            track.appendChild(a);
          });

          let idx = 0;
          const visible = () => {
            if (window.innerWidth > 1100) return 3;
            if (window.innerWidth > 640) return 2;
            return 1;
          };

          function slideTo(i) {
            const item = track.querySelector(".carousel-item");
            if (!item) return;
            const w =
              item.offsetWidth + parseFloat(getComputedStyle(track).gap || 0);
            track.style.transform = `translateX(-${i * w}px)`;
          }

          let timer = setInterval(() => {
            const vis = visible();
            idx = (idx + 1) % Math.max(1, items.length - vis + 1);
            slideTo(idx);
          }, 5000);

          const carousel = document.getElementById("topCarousel");
          if (carousel) {
            carousel.addEventListener("mouseenter", () => clearInterval(timer));
            carousel.addEventListener(
              "mouseleave",
              () =>
                (timer = setInterval(() => {
                  const vis = visible();
                  idx = (idx + 1) % Math.max(1, items.length - vis + 1);
                  slideTo(idx);
                }, 5000))
            );
          }

          window.addEventListener("resize", () => {
            slideTo(idx);
          });
        }

        document.addEventListener("DOMContentLoaded", initTopCarousel);
      })();
    </script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-functions-compat.js"></script>

    <script src="js/main.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/firebase-auth.js"></script>
    <script src="js/config.example.js"></script>
    <script src="js/cart.js"></script>

    <!-- wearable (moved here) -->
    <section class="wearable-section">
      <div class="section-header" data-aos="fade-down">
        <h2>WEARABLE</h2>
        <p>Phadi Tradition</p>
      </div>

      <div class="wearable-scroll-container">
        <div class="wearable-grid">
          <div class="wearable-card" data-aos="zoom-in" data-aos-delay="100">
            <div class="img-placeholder">
              <img src="/assets/w1-ClBVkZ7R.jpg" alt="Phadi Wearable 1" />
            </div>
          </div>

          <div class="wearable-card" data-aos="zoom-in" data-aos-delay="200">
            <div class="img-placeholder">
              <img src="/assets/w2-BQnEsrIO.jpg" alt="Phadi Wearable 2" />
            </div>
          </div>

          <div class="wearable-card center-card" data-aos="zoom-in">
            <div class="img-placeholder">
              <img src="/assets/w3-f4tvkcAw.jpg" alt="Phadi Wearable 3" />
            </div>
          </div>

          <div class="wearable-card" data-aos="zoom-in" data-aos-delay="300">
            <div class="img-placeholder">
              <img src="assets/images/w4.jpg" alt="Phadi Wearable 4" />
            </div>
          </div>

          <div class="wearable-card" data-aos="zoom-in" data-aos-delay="400">
            <div class="img-placeholder">
              <img src="assets/images/w5.jpg" alt="Phadi Wearable 5" />
            </div>
          </div>

          <div class="wearable-card" data-aos="zoom-in" data-aos-delay="500">
            <div class="img-placeholder">
              <img src="assets/images/w6.jpg" alt="Phadi Wearable 6" />
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="site-footer" role="contentinfo" aria-label="Site footer">
      <div class="footer-inner">
        <div class="footer-about">
          <a href="index.html" class="logo-link"
            ><span class="logo-symbol">◇</span> Phadizon</a
          >
          <p>
            Bringing the goodness of the Himalayas — handcrafted, sustainable,
            and authentic products from mountain communities.
          </p>
          <div class="social" aria-label="social links">
            <a
              href="https://www.facebook.com/profile.php?id=61585513685094"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Facebook"
              ><i class="fa-brands fa-facebook"></i
              ><span class="sr-only">Facebook</span></a
            >
            <a
              href="https://www.instagram.com/phadizon/"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Instagram"
              ><i class="fa-brands fa-instagram"></i
              ><span class="sr-only">Instagram</span></a
            >
            <a
              href="https://www.youtube.com/@phadizon"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="YouTube"
              ><i class="fa-brands fa-youtube"></i
              ><span class="sr-only">YouTube</span></a
            >
            <a
              href="https://www.linkedin.com/in/phadizon-0608983a2/"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="LinkedIn"
              ><i class="fa-brands fa-linkedin"></i
              ><span class="sr-only">LinkedIn</span></a
            >
          </div>
        </div>
        <div class="footer-links" aria-label="Footer links">
          <h4>Quick Links</h4>
          <a href="content.html">Terms</a>
          <a href="content.html#credits">Credits</a>
          <a href="admin/admin-login.html">Admin</a>
          <a href="contact.html">Contact</a>
        </div>
        <div class="footer-newsletter" aria-label="Newsletter signup">
          <h4>Join our newsletter</h4>
          <form
            id="footerNewsletter"
            action="#"
            onsubmit="event.preventDefault(); alert('Thanks! (Demo)');"
          >
            <label for="footerEmail" class="sr-only">Email</label>
            <div class="newsletter-input">
              <input
                id="footerEmail"
                type="email"
                placeholder="Your email address"
                required
              />
              <button type="submit" class="cta-btn-modern">Subscribe</button>
            </div>
          </form>
          <small class="newsletter-note"
            >We’ll send occasional updates about new products and offers.</small
          >
        </div>
      </div>
      <div class="footer-bottom">
        <div class="credits">© Phadizon <span id="ph-year"></span></div>
      </div>
    </footer>
    <script>
      document
        .getElementById("ph-year")
        ?.appendChild(document.createTextNode(new Date().getFullYear()));
    </script>
  </body>
</html>
